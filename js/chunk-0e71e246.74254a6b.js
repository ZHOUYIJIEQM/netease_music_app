(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e71e246","chunk-f104c5a4"],{"0480":function(t,n,e){"use strict";e.r(n);var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"dailyList",staticClass:"daily-playlist-page"},[e("Navbar",{ref:"navbar",staticClass:"navbar",on:{clickLeft:t.goBack},scopedSlots:t._u([{key:"left",fn:function(){return[e("div",{staticClass:"icon"},[e("i",{staticClass:"iconfont icon-fanhui"})])]},proxy:!0},{key:"middle",fn:function(){return[e("div",[t._v(t._s(t.playlistName))])]},proxy:!0},{key:"background",fn:function(){return[t.dailySongs.length?e("div",{ref:"navbarBg",staticClass:"navbar-bg bg-outer"},[e("div",{staticClass:"bg-inner",style:{"background-image":"url("+t.dailySongs[0].img+")"}})]):t._e()]},proxy:!0}])}),e("div",{staticClass:"top"},[e("div",{staticClass:"daily-info"},[e("div",{staticClass:"date"},[e("span",{staticClass:"day"},[t._v(t._s(t.currentDay))]),e("span",[t._v("/")]),e("span",[t._v(t._s(t.currentMonth))])]),t._m(0)]),t.dailySongs.length?e("div",{staticClass:"top-bg bg-outer"},[e("div",{staticClass:"bg-inner",style:{"background-image":"url("+t.dailySongs[0].img+")"}})]):t._e()]),e("div",{ref:"playlist",staticClass:"playlist-content"},[e("van-sticky",{attrs:{"offset-top":"0.5rem"}},[e("div",{staticClass:"playlist-title"},[e("i",{staticClass:"iconfont icon-bofang1"}),e("span",{staticClass:"title-text"},[t._v("播放全部")]),e("span",{staticClass:"title-icon"},[e("i",{staticClass:"iconfont icon-xiazai1"})])])]),e("div",{staticClass:"playlist"},t._l(t.dailySongs,(function(t,n){return e("div",{key:n,staticClass:"list-item"},[e("SongInfo",{attrs:{songInfo:t}})],1)})),0)],1)],1)},i=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"recommend-text"},[e("span",[t._v("历史推荐")]),t._v(" 查看今日运势 > ")])}],o=e("1da1"),a=(e("96cf"),e("159b"),e("c740"),e("d81d"),e("b0c0"),e("a15b"),e("5a84")),c=e("4ec3"),r=e("d178"),l=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"songInfo-comp",on:{click:function(n){return t.clickSong(t.songInfo.id)}}},[e("div",{staticClass:"img-box"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.songInfo.img+"?param=300y300",expression:"songInfo.img+'?param=300y300'"}],attrs:{alt:""}})]),e("div",{staticClass:"song-info"},[e("div",{staticClass:"name text-eli"},[e("span",{staticClass:"first"},[t._v(t._s(t.songInfo.name))]),t.songInfo.secName?e("span",{staticClass:"sec"},[t._v(" ("+t._s(t.songInfo.secName)+")")]):t._e()]),e("div",{staticClass:"artists text-eli"},[t.songInfo.sq?e("span",{staticClass:"tag",attrs:{lang:""}},[t._v("SQ")]):t._e(),t.songInfo.reason?e("span",{staticClass:"reason"},[t._v(t._s(t.songInfo.reason))]):t._e(),e("span",{staticClass:"artist-name"},[t._v(t._s(t.songInfo.artists))]),e("span",{staticClass:"split"},[t._v("-")]),e("span",{staticClass:"artist-des"},[t._v(t._s(t.songInfo.description))])])]),t.songInfo.mvId?e("div",{staticClass:"mv",on:{click:function(n){return n.stopPropagation(),t.clickMvIcon(t.songInfo.mvId)}}},[e("i",{staticClass:"iconfont icon-bofangshu"})]):t._e(),t._m(0)])},u=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"more"},[e("i",{staticClass:"iconfont icon-gengduoxiao"})])}],d={mixins:[a["a"]],props:{songInfo:{type:Object,require:!0,default:function(){return{}}}},methods:{}},h=d,f=(e("6e32"),e("2877")),m=Object(f["a"])(h,l,u,!1,null,"15ce3e04",null),g=m.exports,v={name:"DailyPlayListInclude",mixins:[a["a"]],components:{Navbar:r["default"],SongInfo:g},data:function(){return{isTouch:!1,dailySongs:[],playlistName:""}},computed:{currentDay:function(){var t=(new Date).getDate();return t<10?"0"+t:t},currentMonth:function(){var t=(new Date).getMonth()+1;return t<10?"0"+t:t}},mounted:function(){this.getData()},activated:function(){var t=this;setTimeout((function(){window.scroll(0,t.scrollT),window.addEventListener("scroll",t.handlerScroll),window.addEventListener("touchstart",t.touchS),window.addEventListener("touchend",t.touchE)}),10)},deactivated:function(){window.removeEventListener("scroll",this.handlerScroll),window.removeEventListener("touchstart",this.touchS),window.removeEventListener("touchend",this.touchE)},methods:{getData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var e,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t.$store.commit("changeLoading",!0),n.next=4,Object(c["e"])();case 4:e=n.sent,s=e.data.dailySongs,e.data.recommendReasons.forEach((function(t){var n=s.findIndex((function(n){return n.id===t.songId}));s[n].rcmdReason=t.reason})),t.dailySongs=s.map((function(t){return{id:t.id,name:t.name,secName:t.tns&&t.tns[0]||t.alia&&t.alia[0]||"",img:t.al.picUrl,artists:t.ar.map((function(t){return t.name})).join("/"),description:t.al.name,mvId:t.mv,sq:t.privilege.maxbr>48e4,reason:t.rcmdReason}})),t.$nextTick((function(){t.setAttr()})),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](0),console.log(n.t0);case 14:return n.prev=14,t.$store.commit("changeLoading",!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[0,11,14,17]])})))()},setAttr:function(){this.navEle=this.$refs.navbar.$el,this.navbgEle=this.$refs.navbarBg,this.playlistEle=this.$refs.playlist,this.navH=this.navEle.offsetHeight,this.plT=this.playlistEle.getBoundingClientRect().top},touchS:function(){this.isTouch=!0},touchE:function(){this.isTouch=!1,this.handlerScroll()},handlerScroll:function(){var t=this;if(this.scrollT=Math.ceil(this.getScrollTop()),this.scrollT<this.navH?this.playlistName="":this.playlistName="每日推荐",this.scrollT<this.plT-this.navH){var n=this.scrollT/(this.plT-this.navH);this.navbgEle.style.opacity=n}else this.navbgEle.style.opacity=1;this.isTouch||(this.sTimer&&clearTimeout(this.sTimer),this.sTimer=setTimeout((function(){t.scrollT<t.navH&&window.scroll({top:0,behavior:"smooth"}),t.scrollT>=t.navH&&t.scrollT<t.plT&&window.scroll({top:t.plT-t.navH,behavior:"smooth"})}),60))}}},p=v,y=(e("c989"),Object(f["a"])(p,s,i,!1,null,"20259f2a",null));n["default"]=y.exports},"5a84":function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var s=e("1da1"),i=(e("96cf"),e("caad"),e("2532"),e("a9e3"),e("4ec3"),{data:function(){return{}},computed:{loginStatus:function(){return this.$store.getters.loginStatus},playerPlayList:function(){return this.$store.getters.playList},adoEl:function(){return this.$store.getters.adoEl},songId:function(){return this.$store.getters.songId}},methods:{goLogin:function(){!this.loginStatus&&this.$router.push({name:"Login"})},logout:function(){this.$store.dispatch("userLogout")},toggleMenu:function(){this.$store.commit("toggleMenu")},goBack:function(){var t=this.$store.getters.historyList;t.length>1?this.$router.go(-1):this.$router.push({name:"Find"})},clickMenu:function(){console.log("点击了菜单")},goSearch:function(){this.$router.push({name:"Search"})},toTop:function(){window.scroll({top:0,behavior:"smooth"})},goPlaylist:function(t){console.log("点击歌单:",t),this.$router.push({name:"PlayListDetail",params:{id:t}})},clickSong:function(t){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.$store.commit("changeSongId",String(t)),s=n.$store.getters.historyList,s.length<=1&&!window.location.href.includes("?player=show")&&(window.location.href+="?player=show"),n.$store.commit("changeShowPlayer",!0);case 4:case"end":return e.stop()}}),e)})))()},clickMvIcon:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mv";this.$store.commit("changeMvId",Number(t)),this.$router.push({name:"MvPlayer",params:{id:t},query:{type:n}})},toast:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;this.$toast({message:t,className:"playerToast",duration:n,position:"bottom"})},copyText:function(t){var n=document.createElement("input");n.value=t,n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",document.body.appendChild(n),n.select(),document.execCommand("copy"),this.toast("复制成功! 快和小伙伴们分享吧!"),document.body.removeChild(n)},getScrollTop:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},getClientHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0},getScrollHeight:function(){return document.body.scrollHeight||document.documentElement.scrollHeight}}})},"6e32":function(t,n,e){"use strict";e("da0d")},c989:function(t,n,e){"use strict";e("e5d2")},d178:function(t,n,e){"use strict";e.r(n);var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"navbar-comp"},[e("div",{staticClass:"left",on:{click:function(n){return t.clickItem("left")}}},[t._t("left")],2),e("div",{staticClass:"middle",on:{click:function(n){return t.clickItem("middle")}}},[t._t("middle")],2),e("div",{staticClass:"right",on:{click:function(n){return t.clickItem("right")}}},[t._t("right")],2),e("div",{staticClass:"background"},[t._t("background")],2)])},i=[],o={methods:{clickItem:function(t){"left"===t&&this.$emit("clickLeft"),"middle"===t&&this.$emit("clickMiddle"),"right"===t&&this.$emit("clickRight")}},mounted:function(){this.$emit("navbarMounted")}},a=o,c=(e("eaf6"),e("2877")),r=Object(c["a"])(a,s,i,!1,null,"2ce0cfb9",null);n["default"]=r.exports},da0d:function(t,n,e){},da24:function(t,n,e){},e5d2:function(t,n,e){},eaf6:function(t,n,e){"use strict";e("da24")}}]);
//# sourceMappingURL=chunk-0e71e246.74254a6b.js.map