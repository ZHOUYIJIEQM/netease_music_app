(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79da6ed2","chunk-f104c5a4"],{"0283":function(t,e,i){"use strict";i("da73")},2863:function(t,e,i){},"5a84":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i("1da1"),n=(i("96cf"),i("caad"),i("2532"),i("a9e3"),i("4ec3"),{data:function(){return{}},computed:{loginStatus:function(){return this.$store.getters.loginStatus},playerPlayList:function(){return this.$store.getters.playList},adoEl:function(){return this.$store.getters.adoEl},songId:function(){return this.$store.getters.songId}},methods:{goLogin:function(){!this.loginStatus&&this.$router.push({name:"Login"})},logout:function(){this.$store.dispatch("userLogout")},toggleMenu:function(){this.$store.commit("toggleMenu")},goBack:function(){var t=this.$store.getters.historyList;t.length>1?this.$router.go(-1):this.$router.push({name:"Find"})},clickMenu:function(){console.log("点击了菜单")},goSearch:function(){this.$router.push({name:"Search"})},toTop:function(){window.scroll({top:0,behavior:"smooth"})},goPlaylist:function(t){console.log("点击歌单:",t),this.$router.push({name:"PlayListDetail",params:{id:t}})},clickSong:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:e.$store.commit("changeSongId",String(t)),s=e.$store.getters.historyList,s.length<=1&&!window.location.href.includes("?player=show")&&(window.location.href+="?player=show"),e.$store.commit("changeShowPlayer",!0);case 4:case"end":return i.stop()}}),i)})))()},clickMvIcon:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mv";this.$store.commit("changeMvId",Number(t)),this.$router.push({name:"MvPlayer",params:{id:t},query:{type:e}})},toast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;this.$toast({message:t,className:"playerToast",duration:e,position:"bottom"})},copyText:function(t){var e=document.createElement("input");e.value=t,e.style.position="absolute",e.style.left="-10000px",e.style.top="-10000px",document.body.appendChild(e),e.select(),document.execCommand("copy"),this.toast("复制成功! 快和小伙伴们分享吧!"),document.body.removeChild(e)},getScrollTop:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},getClientHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0},getScrollHeight:function(){return document.body.scrollHeight||document.documentElement.scrollHeight}}})},"96a6":function(t,e,i){"use strict";i("2863")},"9bfc":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"leaderBoard-page"},[i("Navbar",{ref:"navbar",staticClass:"navbar",on:{clickLeft:t.goBack},scopedSlots:t._u([{key:"left",fn:function(){return[i("div",{staticClass:"icon"},[i("i",{staticClass:"iconfont icon-fanhui"})])]},proxy:!0},{key:"middle",fn:function(){return[i("div",[t._v("排行榜")])]},proxy:!0}])}),t.show?i("div",{staticClass:"content"},[i("van-tabs",{attrs:{scrollspy:"",sticky:"","offset-top":"0.5rem"},model:{value:t.tabActive,callback:function(e){t.tabActive=e},expression:"tabActive"}},[i("div",{staticClass:"recommend normal songlist"},[i("div",{staticClass:"title"},[t._v("榜单推荐")]),t.recommend.length?i("div",{staticClass:"list-box"},t._l(t.recommend,(function(t,e){return i("div",{key:e,staticClass:"list-item"},[i("PlayListBlock",{attrs:{playIcon:!0,playListData:t}})],1)})),0):i("div",{staticStyle:{"text-align":"center"}},[t._v("暂无推荐")])]),i("van-tab",{attrs:{title:"官方"}},[i("div",{staticClass:"official"},[i("div",{staticClass:"title"},[t._v("官方榜")]),t._l(t.official,(function(e,s){return i("div",{key:s,staticClass:"official-item",on:{click:function(i){return t.goPlaylist(e.id)}}},[i("div",{staticClass:"left"},[i("div",{staticClass:"list-name"},[t._v(t._s(e.name))]),i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.img+"?param=300y300",expression:"item.img + '?param=300y300'"}],attrs:{alt:""}})]),i("div",{staticClass:"right"},t._l(e.tracks,(function(e,s){return i("div",{key:s,staticClass:"song text-eli"},[i("span",{staticClass:"index"},[t._v(t._s(s+1)+".")]),i("span",{staticClass:"name"},[t._v(t._s(e.first))]),i("span",{staticClass:"split"},[t._v("-")]),i("span",{staticClass:"author"},[t._v(t._s(e.second))])])})),0),i("div",{staticClass:"frequency"},[t._v(t._s(e.frequency))])])}))],2)]),i("van-tab",{attrs:{title:"精选"}},[i("div",{staticClass:"normal songlist"},[i("div",{ref:"top",staticClass:"title"},[t._v("精选榜")]),t.selected?i("div",{staticClass:"list-box"},t._l(t.selected,(function(t,e){return i("div",{key:e,staticClass:"list-item"},[i("PlayListBlock",{attrs:{playIcon:!0,playListData:t}})],1)})),0):i("div",{staticStyle:{"text-align":"center"}},[t._v("暂无推荐")])])]),i("van-tab",{attrs:{title:"曲风"}},[i("div",{staticClass:"normal songlist"},[i("div",{staticClass:"title"},[t._v("曲风榜")]),t.genre.length?i("div",{staticClass:"list-box"},t._l(t.genre,(function(t,e){return i("div",{key:e,staticClass:"list-item"},[i("PlayListBlock",{attrs:{playIcon:!0,playListData:t}})],1)})),0):i("div",{staticStyle:{"text-align":"center"}},[t._v("暂无推荐")])])]),i("van-tab",{attrs:{title:"全球"}},[i("div",{staticClass:"normal songlist"},[i("div",{staticClass:"title"},[t._v("全球榜")]),t.global.length?i("div",{staticClass:"list-box"},t._l(t.global,(function(t,e){return i("div",{key:e,staticClass:"list-item"},[i("PlayListBlock",{attrs:{playIcon:!0,playListData:t}})],1)})),0):i("div",{staticStyle:{"text-align":"center"}},[t._v("暂无推荐")])])]),i("van-tab",{attrs:{title:"MV"}},[i("div",{staticClass:"normal songlist"},[i("div",{staticClass:"title"},[t._v("MV榜")]),t.MV.length?i("div",{staticClass:"list-box"},t._l(t.MV,(function(t,e){return i("div",{key:e,staticClass:"list-item"},[i("PlayListBlock",{attrs:{playIcon:!0,playListData:t}})],1)})),0):i("div",{staticStyle:{"text-align":"center"}},[t._v("暂无推荐")])])]),i("van-tab",{attrs:{title:"特色"}},[i("div",{staticClass:"normal songlist"},[i("div",{staticClass:"title"},[t._v("特色榜")]),t.feature.length?i("div",{staticClass:"list-box"},t._l(t.feature,(function(t,e){return i("div",{key:e,staticClass:"list-item"},[i("PlayListBlock",{attrs:{playIcon:!0,playListData:t}})],1)})),0):i("div",{staticStyle:{"text-align":"center"}},[t._v("暂无推荐")])])])],1)],1):t._e()],1)},n=[],a=i("1da1"),c=(i("96cf"),i("d3b7"),i("3ca3"),i("ddb0"),i("d81d"),i("b0c0"),i("159b"),i("caad"),i("2532"),i("4de4"),i("4ec3")),l=i("d178"),o=i("5a84"),r={name:"LeaderBoardInclude",components:{PlayListBlock:function(){return i.e("chunk-501c578c").then(i.bind(null,"9245"))},Navbar:l["default"]},mixins:[o["a"]],data:function(){return{tabActive:0,show:!1,recommend:[],official:[],selected:[],genre:[],global:[],MV:[],feature:[],scrollT:0}},created:function(){this.getData()},activated:function(){var t=this;setTimeout((function(){window.scroll(0,t.scrollT),window.addEventListener("scroll",t.handlerScroll)}),10)},deactivated:function(){window.removeEventListener("scroll",this.handlerScroll)},methods:{getData:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i,s,n,a,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.$store.commit("changeLoading",!0),e.next=4,Object(c["F"])();case 4:i=e.sent,s=i.list.map((function(t){return{id:t.id,name:t.name,img:t.coverImgUrl,tracks:t.tracks,frequency:t.updateFrequency}})),s.forEach((function(e){e.isUsed=!1,e.tracks.length&&(t.official.push(e),e.isUsed=!0),/美国|UK|日本|法国|欧美|日语|韩语|俄语|越南/i.test(e.name)&&(t.global.push(e),e.isUsed=!0),e.name.includes("云音乐")&&!e.isUsed&&(t.genre.push(e),e.isUsed=!0)})),s=s.filter((function(t){return!t.isUsed}));while(t.recommend.length<3)n=t.getRandom(0,s.length-1),a=s[n],a.isUsed||(t.recommend.push(a),a.isUsed=!0);while(t.selected.length<6)l=s[t.getRandom(0,s.length-1)],l.isUsed||(t.selected.push(l),l.isUsed=!0);t.feature=s.filter((function(t){return!t.isUsed})),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.log(e.t0);case 16:return e.prev=16,t.show=!0,setTimeout((function(){t.$store.commit("changeLoading",!1)}),300),e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[0,13,16,20]])})))()},getRandom:function(t,e){return Math.round(Math.random()*(e-t)+t)},handlerScroll:function(t){this.scrollT=Math.ceil(this.getScrollTop())}}},u=r,d=(i("0283"),i("96a6"),i("2877")),m=Object(d["a"])(u,s,n,!1,null,"00416525",null);e["default"]=m.exports},d178:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"navbar-comp"},[i("div",{staticClass:"left",on:{click:function(e){return t.clickItem("left")}}},[t._t("left")],2),i("div",{staticClass:"middle",on:{click:function(e){return t.clickItem("middle")}}},[t._t("middle")],2),i("div",{staticClass:"right",on:{click:function(e){return t.clickItem("right")}}},[t._t("right")],2),i("div",{staticClass:"background"},[t._t("background")],2)])},n=[],a={methods:{clickItem:function(t){"left"===t&&this.$emit("clickLeft"),"middle"===t&&this.$emit("clickMiddle"),"right"===t&&this.$emit("clickRight")}},mounted:function(){this.$emit("navbarMounted")}},c=a,l=(i("eaf6"),i("2877")),o=Object(l["a"])(c,s,n,!1,null,"2ce0cfb9",null);e["default"]=o.exports},da24:function(t,e,i){},da73:function(t,e,i){},eaf6:function(t,e,i){"use strict";i("da24")}}]);
//# sourceMappingURL=chunk-79da6ed2.aa65a322.js.map