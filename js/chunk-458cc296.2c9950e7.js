(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-458cc296","chunk-f104c5a4","chunk-501c578c"],{"0c8d":function(t,e,a){},"107c8":function(t,e,a){},1084:function(t,e,a){},2081:function(t,e,a){"use strict";a("5c31")},2909:function(t,e,a){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function n(t){if(Array.isArray(t))return i(t)}a.d(e,"a",(function(){return c}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function s(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}a("fb6a"),a("b0c0");function r(t,e){if(t){if("string"===typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(t,e):void 0}}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return n(t)||s(t)||r(t)||o()}},3335:function(t,e,a){"use strict";a("0c8d")},"3d39":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"tabbar",staticClass:"tabbar-comp"},[t._l(t.tabObj,(function(e,i){return a("div",{key:i,ref:"tabItem",refInFor:!0,staticClass:"tabbar-item",class:{active:t.tabIndex===i},on:{click:function(e){return t.changeTab(i)}}},[t._v(" "+t._s(e)+" ")])})),a("div",{ref:"line",staticClass:"line"})],2)},n=[],s={props:{tabObj:{type:Array,default:function(){return[]},require:!0}},data:function(){return{tabIndex:0}},mounted:function(){this.changeTab(this.tabIndex)},methods:{changeTab:function(t){this.tabIndex=t;var e=this.$refs.line,a=this.$refs.tabItem,i=parseInt(getComputedStyle(a[0]).paddingLeft),n=8,s=a[t].offsetWidth-2*i+n,r=a[t].offsetLeft+i-n/2,o=this.$refs.tabbar.offsetWidth/2-s/2;e.style.width=s+"px",e.style.left=r+"px",this.$refs.tabbar.scrollLeft=r<=o?0:r-o,this.$emit("changeTab",t)}}},r=s,o=(a("4246"),a("2877")),c=Object(o["a"])(r,i,n,!1,null,"786cc977",null);e["a"]=c.exports},4246:function(t,e,a){"use strict";a("107c8")},"4df4":function(t,e,a){"use strict";var i=a("0366"),n=a("7b0b"),s=a("9bdd"),r=a("e95a"),o=a("68ee"),c=a("50c4"),l=a("8418"),u=a("9a1f"),d=a("35a1");t.exports=function(t){var e=n(t),a=o(this),f=arguments.length,h=f>1?arguments[1]:void 0,p=void 0!==h;p&&(h=i(h,f>2?arguments[2]:void 0,2));var m,b,g,v,y,w,x=d(e),A=0;if(!x||this==Array&&r(x))for(m=c(e.length),b=a?new this(m):Array(m);m>A;A++)w=p?h(e[A],A):e[A],l(b,A,w);else for(v=u(e,x),y=v.next,b=a?new this:[];!(g=y.call(v)).done;A++)w=p?s(v,h,[g.value,A],!0):g.value,l(b,A,w);return b.length=A,b}},"5a84":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var i=a("1da1"),n=(a("96cf"),a("caad"),a("2532"),a("a9e3"),a("4ec3"),{data:function(){return{}},computed:{loginStatus:function(){return this.$store.getters.loginStatus},playerPlayList:function(){return this.$store.getters.playList},adoEl:function(){return this.$store.getters.adoEl},songId:function(){return this.$store.getters.songId}},methods:{goLogin:function(){!this.loginStatus&&this.$router.push({name:"Login"})},logout:function(){this.$store.dispatch("userLogout")},toggleMenu:function(){this.$store.commit("toggleMenu")},goBack:function(){var t=this.$store.getters.historyList;t.length>1?this.$router.go(-1):this.$router.push({name:"Find"})},clickMenu:function(){console.log("点击了菜单")},goSearch:function(){this.$router.push({name:"Search"})},toTop:function(){window.scroll({top:0,behavior:"smooth"})},goPlaylist:function(t){console.log("点击歌单:",t),this.$router.push({name:"PlayListDetail",params:{id:t}})},clickSong:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.$store.commit("changeSongId",String(t)),i=e.$store.getters.historyList,i.length<=1&&!window.location.href.includes("?player=show")&&(window.location.href+="?player=show"),e.$store.commit("changeShowPlayer",!0);case 4:case"end":return a.stop()}}),a)})))()},clickMvIcon:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mv";this.$store.commit("changeMvId",Number(t)),this.$router.push({name:"MvPlayer",params:{id:t},query:{type:e}})},toast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;this.$toast({message:t,className:"playerToast",duration:e,position:"bottom"})},copyText:function(t){var e=document.createElement("input");e.value=t,e.style.position="absolute",e.style.left="-10000px",e.style.top="-10000px",document.body.appendChild(e),e.select(),document.execCommand("copy"),this.toast("复制成功! 快和小伙伴们分享吧!"),document.body.removeChild(e)},getScrollTop:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},getClientHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0},getScrollHeight:function(){return document.body.scrollHeight||document.documentElement.scrollHeight}}})},"5c31":function(t,e,a){},"69f5":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAIAAABuP+aXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAxFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEZCODJGOEIwQ0JEMTFFQzgxRUI4RENCNjBBREQzNDEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEZCODJGOEEwQ0JEMTFFQzgxRUI4RENCNjBBREQzNDEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIwMjAgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJEODEzMkQxODI0NjlGMjM4MjBFMzRCMzYyQTA4MTkwMSIgc3RSZWY6ZG9jdW1lbnRJRD0iRDgxMzJEMTgyNDY5RjIzODIwRTM0QjM2MkEwODE5MDEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7JkR1zAAAG0ElEQVR42qzYyW4USRAG4HG7WQy22VexYwMym0DI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"},8640:function(t,e,a){"use strict";a("1084")},9245:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"play-list-comp",on:{click:function(e){return t.goPlaylist(t.playListData.id)}}},[a("div",{staticClass:"top-shadow",style:{"background-color":t.topShadow.background}}),a("div",{staticClass:"play-list-box",style:{top:t.topShadow.height}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.playListData.img+"?param=300y300",expression:"playListData.img+'?param=300y300'"}],attrs:{alt:""}}),t.playListData.playCount?a("span",{staticClass:"tr-text"},[a("span",{staticClass:"iconfont icon-bofangsanjiaoxing"}),t._v(" "+t._s(t._f("formatNum")(t.playListData.playCount))+" ")]):a("span",{staticClass:"tr-text"},[t._v(t._s(t.playListData.frequency))]),t.playIcon?a("i",{staticClass:"iconfont icon-bofang2"}):t._e()]),t.playListData.name.length?a("div",{staticClass:"play-list-name two-eli"},[t._v(t._s(t.playListData.name))]):t._e()])},n=[],s=a("5a84"),r={mixins:[s["a"]],props:{topShadow:{type:Object,default:function(){return{background:"#f2f2f2",height:".04rem"}}},playIcon:{type:Boolean,default:!1},playListData:{type:Object,default:function(){return{}},require:!0}},methods:{clickPlayList:function(t){this.$emit("clickPlayList",t)}}},o=r,c=(a("3335"),a("2877")),l=Object(c["a"])(o,i,n,!1,null,"518e3d4b",null);e["default"]=l.exports},"9bdd":function(t,e,a){var i=a("825a"),n=a("2a62");t.exports=function(t,e,a,s){try{return s?e(i(a)[0],a[1]):e(a)}catch(r){n(t,"throw",r)}}},a630:function(t,e,a){var i=a("23e7"),n=a("4df4"),s=a("1c7e"),r=!s((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:r},{from:n})},b0e2:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"listSquare",staticClass:"playlist-page"},[a("Navbar",{ref:"navbar",staticClass:"navbar",on:{clickLeft:t.goBack},scopedSlots:t._u([{key:"left",fn:function(){return[a("div",{staticClass:"icon"},[a("i",{staticClass:"iconfont icon-fanhui"})])]},proxy:!0},{key:"middle",fn:function(){return[a("div",{staticClass:"playlist-name"},[t._v("歌单广场")])]},proxy:!0}])}),a("div",{ref:"squareTabbar",staticClass:"tabbar"},[a("div",{staticClass:"tab"},[a("Tabbar",{ref:"tabbar",attrs:{tabObj:t.tabData},on:{changeTab:t.tabChange}})],1),t._m(0)]),a("div",{staticClass:"swiper-box"},[t.tabData.length?a("swiper",{ref:"listSwiper",staticClass:"list-swiper",attrs:{options:t.listSwiperOptions},on:{slideChange:t.swiperChange}},t._l(t.tabData,(function(e,i){return a("swiper-slide",{key:i,ref:"listItem",refInFor:!0,staticClass:"list-item-box"},[a("div",{staticClass:"playlist-content"},t._l(t.playList[i],(function(t,e){return a("div",{key:e,staticClass:"playlist-box"},[a("PlayListBlock",{attrs:{topShadow:{background:"#e9e8e8",height:".05rem"},playListData:t}})],1)})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tabParams[i].more,expression:"tabParams[index].more"}],staticClass:"loading",style:{"padding-top":t.playList[i].length?"":".3rem"}},[a("div",{staticClass:"circle"},[a("van-loading",{attrs:{color:"red",size:"0.2rem"}})],1),a("p",[t._v("正在加载")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.tabParams[i].more,expression:"!tabParams[index].more"}],staticClass:"bottom"},[t._v("到底了!")])])})),1):t._e()],1)],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"more"},[i("img",{attrs:{src:a("69f5")}})])}],s=a("2909"),r=a("1da1"),o=(a("96cf"),a("d81d"),a("159b"),a("ac1f"),a("5319"),a("b0c0"),a("5a84")),c=a("d178"),l=a("3d39"),u=a("9245"),d=a("4ec3"),f={name:"playlistSquareInclude",mixins:[o["a"]],components:{Navbar:c["default"],Tabbar:l["a"],PlayListBlock:u["default"]},data:function(){return{tabData:["官方","精品","华语","轻音乐","古风","电子","ACG"],tabParams:[],playList:[],listSwiperOptions:{resistanceRatio:0},loading:!1}},computed:{listSwiper:function(){return this.$refs.listSwiper.$swiper}},created:function(){this.tabParams=this.tabData.map((function(t){return{offset:1,scroll:0,more:!0}})),this.playList=this.tabData.map((function(t){return[]}))},mounted:function(){var t=this;this.isMounted=!0,this.$refs.listItem.forEach((function(e){e.$el.addEventListener("scroll",t.swiperItemScroll)})),this.getData()},activated:function(){var t=this;this.$refs.listItem.forEach((function(e,a){e.$el.scrollTop=t.tabParams[a].scroll}))},methods:{getData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i,n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.loading=!0,a=t.listSwiper.realIndex,i=18,n={},n={cat:t.tabData[a].replace("精品","流行"),limit:i,offset:(t.tabParams[a].offset-1)*i},!t.tabParams[a].more){e.next=15;break}return e.next=9,Object(d["r"])(n);case 9:o=e.sent,(r=t.playList[a]).push.apply(r,Object(s["a"])(o.playlists.map((function(t){return{id:t.id,name:t.name,img:t.coverImgUrl,playCount:t.playCount}})))),t.tabParams[a].offset+=1,t.tabParams[a].more=o.more,e.next=16;break;case 15:console.log("没有了!");case 16:t.loading=!1,e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](0),t.loading=!1,console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})))()},swiperChange:function(){this.$refs.tabbar.changeTab(this.listSwiper.realIndex),this.playList[this.listSwiper.realIndex].length||this.getData()},tabChange:function(t){this.isMounted&&this.listSwiper.slideTo(t,150)},swiperItemScroll:function(){var t=this.listSwiper.realIndex,e=this.$refs.listSwiper.$el.offsetHeight,a=Math.ceil(this.$refs.listItem[t].$el.scrollTop),i=this.$refs.listItem[t].$el.scrollHeight;this.tabParams[t].scroll=a,e+a+50>=i&&!this.loading&&this.getData()}}},h=f,p=(a("2081"),a("8640"),a("2877")),m=Object(p["a"])(h,i,n,!1,null,"4b654a8d",null);e["default"]=m.exports},d178:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar-comp"},[a("div",{staticClass:"left",on:{click:function(e){return t.clickItem("left")}}},[t._t("left")],2),a("div",{staticClass:"middle",on:{click:function(e){return t.clickItem("middle")}}},[t._t("middle")],2),a("div",{staticClass:"right",on:{click:function(e){return t.clickItem("right")}}},[t._t("right")],2),a("div",{staticClass:"background"},[t._t("background")],2)])},n=[],s={methods:{clickItem:function(t){"left"===t&&this.$emit("clickLeft"),"middle"===t&&this.$emit("clickMiddle"),"right"===t&&this.$emit("clickRight")}},mounted:function(){this.$emit("navbarMounted")}},r=s,o=(a("eaf6"),a("2877")),c=Object(o["a"])(r,i,n,!1,null,"2ce0cfb9",null);e["default"]=c.exports},da24:function(t,e,a){},eaf6:function(t,e,a){"use strict";a("da24")}}]);
//# sourceMappingURL=chunk-458cc296.2c9950e7.js.map