(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-287d34de"],{"5f55":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mvlog-comp"},[a("div",{staticClass:"mv-box"},[a("video",{ref:"mlogVideo",on:{click:t.playVideo,play:t.vdoPlay,pause:t.vdoPause,error:t.vdoError}}),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.mvLogData.img,expression:"mvLogData.img"}],ref:"coverUrl",attrs:{alt:""},on:{click:t.playVideo}}),t.mvLogData.playCount?a("span",{staticClass:"tr-text"},[a("span",{staticClass:"iconfont icon-bofangsanjiaoxing"}),t._v(" "+t._s(t._f("formatNum")(t.mvLogData.playCount))+" ")]):t._e(),a("div",{staticClass:"playicon"},[t.videoStatus?a("i",{staticClass:"iconfont icon-bofang2"}):a("div",{staticClass:"loader"},[a("div",{staticStyle:{"--x":"0"}}),a("div",{staticStyle:{"--x":"1"}}),a("div",{staticStyle:{"--x":"2"}})])])]),a("div",{staticClass:"mv-name two-eli",on:{click:t.goMvPlayer}},[t._v(t._s(t.mvLogData.name))])])},s=[],i=a("1da1"),n=(a("96cf"),a("4ec3")),r=a("5a84"),c={props:{mvLogData:{type:Object,default:function(){return{}}}},mixins:[r["a"]],data:function(){return{videoStatus:!0}},mounted:function(){},methods:{playVideo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$store.commit("changeMvId",t.mvLogData.id),a=t.$refs.mlogVideo,a.src){e.next=18;break}return e.prev=3,e.next=6,Object(n["k"])({id:t.mvLogData.id,res:480});case 6:o=e.sent,console.log(o),a.src=o.data.resource.content.video.urlInfo.url,a.oncanplay=function(){a.play(),t.$refs.coverUrl.style.zIndex="-1"},e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](3),t.$toast("获取播放链接错误!"),console.log(e.t0);case 16:e.next=20;break;case 18:t.toggleVdoStatus(),t.$refs.coverUrl.style.zIndex="-1";case 20:case"end":return e.stop()}}),e,null,[[3,12]])})))()},toggleVdoStatus:function(){var t=this.$refs.mlogVideo;t.paused?t.play():t.pause()},vdoPlay:function(){this.videoStatus=!1},vdoPause:function(){this.videoStatus=!0},vdoError:function(){this.$toast("视频播放错误!")},goMvPlayer:function(){this.clickMvIcon(this.mvLogData.id,"mlog")}},watch:{"$store.getters.mvId":{handler:function(t){this.$refs.mlogVideo.paused||t===this.mvLogData.id||(this.$refs.mlogVideo.pause(),this.$refs.coverUrl.style.zIndex="1")}},mvLogData:function(t){this.$refs.mlogVideo.pause(),this.$refs.mlogVideo.removeAttribute("src"),this.$refs.mlogVideo.load(),this.videoStatus=!0}}},l=c,d=(a("7ae1"),a("2877")),u=Object(d["a"])(l,o,s,!1,null,"370402a9",null);e["default"]=u.exports},"7ae1":function(t,e,a){"use strict";a("831e")},"831e":function(t,e,a){}}]);
//# sourceMappingURL=chunk-287d34de.a388e1e4.js.map