(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e6029574","chunk-f104c5a4"],{"08a0":function(t,e,n){},2909:function(t,e,n){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function o(t){if(Array.isArray(t))return a(t)}n.d(e,"a",(function(){return c}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function i(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n("fb6a"),n("b0c0");function s(t,e){if(t){if("string"===typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return o(t)||i(t)||s(t)||r()}},"46a5":function(t,e,n){"use strict";n("08a0")},"4df4":function(t,e,n){"use strict";var a=n("0366"),o=n("7b0b"),i=n("9bdd"),s=n("e95a"),r=n("68ee"),c=n("50c4"),l=n("8418"),m=n("9a1f"),u=n("35a1");t.exports=function(t){var e=o(t),n=r(this),d=arguments.length,h=d>1?arguments[1]:void 0,p=void 0!==h;p&&(h=a(h,d>2?arguments[2]:void 0,2));var v,g,f,y,C,b,w=u(e),L=0;if(!w||this==Array&&s(w))for(v=c(e.length),g=n?new this(v):Array(v);v>L;L++)b=p?h(e[L],L):e[L],l(g,L,b);else for(y=m(e,w),C=y.next,g=n?new this:[];!(f=C.call(y)).done;L++)b=p?i(y,h,[f.value,L],!0):f.value,l(g,L,b);return g.length=L,g}},"5a84":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("1da1"),o=(n("96cf"),n("caad"),n("2532"),n("a9e3"),n("4ec3"),{data:function(){return{}},computed:{loginStatus:function(){return this.$store.getters.loginStatus},playerPlayList:function(){return this.$store.getters.playList},adoEl:function(){return this.$store.getters.adoEl},songId:function(){return this.$store.getters.songId}},methods:{goLogin:function(){!this.loginStatus&&this.$router.push({name:"Login"})},logout:function(){this.$store.dispatch("userLogout")},toggleMenu:function(){this.$store.commit("toggleMenu")},goBack:function(){var t=this.$store.getters.historyList;t.length>1?this.$router.go(-1):this.$router.push({name:"Find"})},clickMenu:function(){console.log("点击了菜单")},goSearch:function(){this.$router.push({name:"Search"})},toTop:function(){window.scroll({top:0,behavior:"smooth"})},goPlaylist:function(t){console.log("点击歌单:",t),this.$router.push({name:"PlayListDetail",params:{id:t}})},clickSong:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.$store.commit("changeSongId",String(t)),a=e.$store.getters.historyList,a.length<=1&&!window.location.href.includes("?player=show")&&(window.location.href+="?player=show"),e.$store.commit("changeShowPlayer",!0);case 4:case"end":return n.stop()}}),n)})))()},clickMvIcon:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mv";this.$store.commit("changeMvId",Number(t)),this.$router.push({name:"MvPlayer",params:{id:t},query:{type:e}})},toast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;this.$toast({message:t,className:"playerToast",duration:e,position:"bottom"})},copyText:function(t){var e=document.createElement("input");e.value=t,e.style.position="absolute",e.style.left="-10000px",e.style.top="-10000px",document.body.appendChild(e),e.select(),document.execCommand("copy"),this.toast("复制成功! 快和小伙伴们分享吧!"),document.body.removeChild(e)},getScrollTop:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},getClientHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0},getScrollHeight:function(){return document.body.scrollHeight||document.documentElement.scrollHeight}}})},"65fc":function(t,e,n){},"9bdd":function(t,e,n){var a=n("825a"),o=n("2a62");t.exports=function(t,e,n,i){try{return i?e(a(n)[0],n[1]):e(n)}catch(s){o(t,"throw",s)}}},a4b9:function(t,e,n){"use strict";n("65fc")},a630:function(t,e,n){var a=n("23e7"),o=n("4df4"),i=n("1c7e"),s=!i((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:s},{from:o})},ce0f:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.playList.id,expression:"playList.id"}],staticClass:"playlist-comment-page"},[n("Navbar",{ref:"navbar",staticClass:"navbar",on:{clickLeft:t.goBack},scopedSlots:t._u([{key:"left",fn:function(){return[n("div",{staticClass:"icon"},[n("i",{staticClass:"iconfont icon-fanhui"})])]},proxy:!0},{key:"middle",fn:function(){return[n("div",{staticClass:"title"},[n("span",[t._v("评论")]),t.commentCount?n("span",[t._v("("+t._s(t.commentCount)+")")]):t._e()])]},proxy:!0}])}),n("div",{staticClass:"playlist-info"},[n("div",{staticClass:"box"},[t.playList.id?[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.playList.coverImgUrl+"?param=100y100",expression:"playList.coverImgUrl+'?param=100y100'"}],attrs:{alt:""}}),n("div",{staticClass:"des-info"},[n("p",{staticClass:"name"},[t._v(t._s(t.playList.name))]),n("p",{staticClass:"author"},[t._v("by "),n("span",[t._v(t._s(t.playList.creator.nickname))])])]),t._m(0)]:t._e()],2)]),n("van-sticky",{directives:[{name:"show",rawName:"v-show",value:t.commentCount,expression:"commentCount"}],attrs:{"offset-top":".5rem"}},[n("div",{staticClass:"comment-title"},[n("span",{staticClass:"active"},[t._v("评论区")]),n("span",{staticClass:"tag",class:{active:"推荐"===t.active},on:{click:function(e){return t.setActive("推荐")}}},[t._v("推荐")]),n("span",{staticClass:"tag",class:{active:"最热"===t.active},on:{click:function(e){return t.setActive("最热")}}},[t._v("最热")]),n("span",{staticClass:"tag",class:{active:"最新"===t.active},on:{click:function(e){return t.setActive("最新")}}},[t._v("最新")])])]),t.comments.length?n("div",{staticClass:"comments-box"},[t._l(t.comments,(function(e,a){return n("div",{key:a,staticClass:"comment-item"},[n("CommentItem",{attrs:{commentData:e,commentType:2,resourceId:t.commentId}})],1)})),this.hasMore?t._e():n("div",{staticClass:"bottom"},[t._v("没有更多了哦!")])],2):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.commentCount,expression:"!commentCount"}],staticClass:"no-comments"},[t._v(" 暂无评论, 欢迎抢沙发 ")]),t._m(1)],1)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"right"},[n("i",{staticClass:"iconfont icon-jiantou"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom-input"},[n("input",{attrs:{type:"text",placeholder:"写评论..."}}),n("p",[t._v("发送")])])}],i=n("2909"),s=n("1da1"),r=(n("96cf"),n("ac1f"),n("5319"),n("d178")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment-item-comp"},[a("div",{staticClass:"comment-box"},[a("div",{staticClass:"img-box"},[a("img",{staticClass:"avatar",attrs:{src:t.commentData.user.avatarUrl+"?param=200y200",alt:""}}),t.commentData.pendantData?a("img",{staticClass:"pendant",attrs:{src:t.commentData.pendantData.imageUrl+"?param=200y200",alt:""}}):t._e(),t.commentData.user.avatarDetail?a("img",{staticClass:"avatarDetail",attrs:{src:t.commentData.user.avatarDetail.identityIconUrl,alt:""}}):t._e()]),a("div",{staticClass:"comment-content"},[a("div",{staticClass:"top"},[a("div",{staticClass:"user"},[a("div",{staticClass:"name"},[a("span",{staticClass:"user-name"},[t._v(t._s(t.commentData.user.nickname))]),t.commentData.user.vipRights?a("span",{staticClass:"vip-box"},[a("img",{attrs:{src:n("e064"),alt:""}}),a("span",{staticClass:"split"},[t._v("▪")]),a("span",{staticClass:"level"},[t._v(t._s(t.commentData.user.vipRights.redVipLevel))])]):t._e()]),a("div",{staticClass:"date"},[t._v(t._s(t._f("formatTime")(t.commentData.time)))])]),a("div",{staticClass:"zan"},[t.commentData.likedCount?a("span",{staticClass:"zan-num",style:{color:t.commentData.liked?"#fe3a3b":""}},[t._v(t._s(t.commentData.likedCount))]):t._e(),t.commentData.liked?a("i",{staticClass:"iconfont icon-z-likeFill"}):a("i",{staticClass:"iconfont icon-zan"})])]),a("div",{staticClass:"content"},[a("pre",{staticClass:"format"},[t._v(t._s(t.commentData.content))])]),t.commentData.showFloorComment.replyCount?a("div",{staticClass:"reply",on:{click:function(e){return e.stopPropagation(),t.clickReply.apply(null,arguments)}}},[t._v(t._s(t.commentData.showFloorComment.replyCount)+"条回复 "),a("i",{staticClass:"iconfont icon-jiantou"})]):t._e()])]),a("van-popup",{staticClass:"floor-comment",style:{height:"92%"},attrs:{round:"",position:"bottom","overlay-style":{"background-color":"hsl(0deg 0% 0% / 30%)"}},on:{close:t.clickOverlay},model:{value:t.showReply,callback:function(e){t.showReply=e},expression:"showReply"}},[a("div",{staticClass:"title"},[a("i",{staticClass:"iconfont icon-fanhui",on:{click:t.clickOverlay}}),a("span",{staticClass:"reply"},[t._v("回复")]),t.totalCount?a("span",[t._v("("+t._s(t.totalCount)+")")]):t._e()]),a("div",{staticClass:"content"},t._l(100,(function(e,n){return a("div",{key:n},[t._v(t._s(e))])})),0),a("div",{staticClass:"bottom-input"},[a("input",{attrs:{type:"text",placeholder:"写评论..."}}),a("p",[t._v("发送")])])])],1)},l=[],m=(n("a9e3"),n("4ec3")),u={props:{commentData:{type:Object,require:!0,default:function(){return{}}},resourceId:{type:[String,Number],require:!0},commentType:{type:[String,Number],require:!0}},data:function(){return{showReply:!1,parentCommentId:this.commentData.commentId,time:0,totalCount:0}},methods:{getComment:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={parentCommentId:t.parentCommentId,id:t.resourceId,type:t.commentType,limit:20},t.time&&(n.time=t.time),console.log("参数:",n),e.next=5,Object(m["c"])(n);case 5:a=e.sent,console.log(a),t.totalCount=a.data.totalCount;case 8:case"end":return e.stop()}}),e)})))()},formatComment:function(t){return t.replace(/\n/g,"<br>")},clickReply:function(){this.showReply=!0,this.$store.commit("changeShowReply",!0),this.showReply&&this.getComment()},clickOverlay:function(){this.showReply=!1,this.$store.commit("changeShowReply",!1)}},watch:{"$store.getters.showReply":{handler:function(t){t||(this.showReply=!1)}}}},d=u,h=(n("a4b9"),n("2877")),p=Object(h["a"])(d,c,l,!1,null,"54c661ae",null),v=p.exports,g=n("5a84"),f={name:"PlayListComment",mixins:[g["a"]],components:{Navbar:r["default"],CommentItem:v},data:function(){return{commentId:this.$route.params.id,comments:[],playList:{},active:"最新",pageNum:1,hasMore:!0,loading:!1}},computed:{commentCount:function(){return this.playList.commentCount},showReply:function(){return this.$store.getters.showReply}},mounted:function(){this.getPlayList(),window.addEventListener("scroll",this.handlerScroll)},destroyed:function(){window.removeEventListener("scroll",this.handlerScroll)},beforeRouteLeave:function(t,e,n){this.showReply?(this.$store.commit("changeShowReply",!1),n(!1)):n()},methods:{formatComment:function(t){return t.replace(/\n/g,"<br>")},getPlayList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.$store.commit("changeLoading",!0),e.next=4,Object(m["y"])(t.commentId);case 4:n=e.sent,t.playList=n.playlist,t.loadingData=!1,t.getComment(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:return e.prev=13,setTimeout((function(){t.$store.commit("changeLoading",!1)}),100),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})))()},getComment:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t.hasMore){e.next=15;break}return t.$store.commit("changeLoading",!0),a={type:2,id:t.commentId,pageSize:20,pageNo:t.pageNum},"推荐"===t.active?a.sortType=99:"最新"===t.active?(a.sortType=3,t.cursor&&(a.cursor=t.cursor)):(a.sortType=2,t.cursor&&(a.cursor=t.cursor)),e.next=7,Object(m["d"])(a);case 7:o=e.sent,console.log(o.data),t.hasMore=o.data.hasMore,o.data.cursor&&(t.cursor=o.data.cursor),t.pageNum++,(n=t.comments).push.apply(n,Object(i["a"])(o.data.comments)),t.loading=!1,t.$store.commit("changeLoading",!1);case 15:e.next=22;break;case 17:e.prev=17,e.t0=e["catch"](0),t.loading=!1,t.$toast("新版评论接口获取数据错误"),console.log("加载评论错误:\n",e.t0);case 22:return e.prev=22,t.$store.commit("changeLoading",!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[0,17,22,25]])})))()},setActive:function(t){this.active!==t&&(this.active=t,this.cursor=null,this.hasMore=!0,this.comments=[],this.pageNum=1,this.getComment(),"推荐"!==t&&"最热"!==t||this.$toast({message:"接口存在bug, 推荐, 最热可能无法正常读取数据!",className:"toastT",duration:2e3,position:"bottom"}))},handlerScroll:function(){console.log("歌单评论滚动");var t=this.getScrollTop(),e=this.getScrollHeight(),n=this.getClientHeight();t+n+100>=e&&!this.loading&&(console.log("到底了"),this.loading=!0,this.getComment())}}},y=f,C=(n("46a5"),Object(h["a"])(y,a,o,!1,null,"d42be7ce",null));e["default"]=C.exports},d178:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar-comp"},[n("div",{staticClass:"left",on:{click:function(e){return t.clickItem("left")}}},[t._t("left")],2),n("div",{staticClass:"middle",on:{click:function(e){return t.clickItem("middle")}}},[t._t("middle")],2),n("div",{staticClass:"right",on:{click:function(e){return t.clickItem("right")}}},[t._t("right")],2),n("div",{staticClass:"background"},[t._t("background")],2)])},o=[],i={methods:{clickItem:function(t){"left"===t&&this.$emit("clickLeft"),"middle"===t&&this.$emit("clickMiddle"),"right"===t&&this.$emit("clickRight")}},mounted:function(){this.$emit("navbarMounted")}},s=i,r=(n("eaf6"),n("2877")),c=Object(r["a"])(s,a,o,!1,null,"2ce0cfb9",null);e["default"]=c.exports},da24:function(t,e,n){},e064:function(t,e){t.exports="data:image/png;base64,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"},eaf6:function(t,e,n){"use strict";n("da24")}}]);
//# sourceMappingURL=chunk-e6029574.d0af87e2.js.map