(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-663c3fdc"],{2909:function(t,e,n){"use strict";function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function i(t){if(Array.isArray(t))return o(t)}n.d(e,"a",(function(){return s}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function a(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n("fb6a"),n("b0c0");function r(t,e){if(t){if("string"===typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){return i(t)||a(t)||r(t)||c()}},"2e88":function(t,e,n){t.exports=n.p+"img/yunCircle.7cdaad32.png"},3634:function(t,e,n){"use strict";n("8542")},"4df4":function(t,e,n){"use strict";var o=n("0366"),i=n("7b0b"),a=n("9bdd"),r=n("e95a"),c=n("68ee"),s=n("50c4"),u=n("8418"),l=n("9a1f"),d=n("35a1");t.exports=function(t){var e=i(t),n=c(this),f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g;m&&(g=o(g,f>2?arguments[2]:void 0,2));var h,p,v,y,b,w,S=d(e),C=0;if(!S||this==Array&&r(S))for(h=s(e.length),p=n?new this(h):Array(h);h>C;C++)w=m?g(e[C],C):e[C],u(p,C,w);else for(y=l(e,S),b=y.next,p=n?new this:[];!(v=b.call(y)).done;C++)w=m?a(y,g,[v.value,C],!0):v.value,u(p,C,w);return p.length=C,p}},5125:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"yun-village-page"},[o("Navbar",{ref:"navbar",staticClass:"yun-village-navbar",on:{clickLeft:t.toggleMenu},scopedSlots:t._u([{key:"left",fn:function(){return[o("i",{staticClass:"iconfont icon-weibiaoti12"})]},proxy:!0},{key:"middle",fn:function(){return[o("div",{staticClass:"nav-flag"},t._l(t.flagList,(function(e,n){return o("div",{key:n,staticClass:"flag-item",class:{active:t.flagActive===n},on:{click:function(e){return t.clickFlag(n)}}},[t._v(t._s(e))])})),0)]},proxy:!0},{key:"right",fn:function(){return[o("i",{staticClass:"iconfont icon-zengjia"})]},proxy:!0}])}),o("div",{staticClass:"yun-village-content"},[o("div",{directives:[{name:"show",rawName:"v-show",value:0===t.flagActive,expression:"flagActive === 0"}],staticClass:"yun-focus"},[t._m(0),o("img",{staticClass:"tip-img",attrs:{src:n("2e88"),alt:""}})]),o("div",{directives:[{name:"show",rawName:"v-show",value:1===t.flagActive,expression:"flagActive === 1"}],staticClass:"video-recommend"},t._l(t.recommendVideo,(function(t,e){return o("div",{key:e,staticClass:"video-item two-column"},[o("YunRcmdMv",{attrs:{rcmdMv:t}})],1)})),0)])],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"yun-circle"},[n("div",{staticClass:"title"},[t._v("我的云圈 "),n("span",[t._v("(还没有加入云圈)")])]),n("div",{staticClass:"go-circle"},[n("span",[t._v("去云圈广场逛逛")]),n("span",{staticClass:"iconfont icon-jiantou"})])])}],a=n("2909"),r=n("1da1"),c=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("4e82"),n("d81d"),n("b0c0"),n("e6da")),s=n("5a84"),u=n("4ec3"),l={mixins:[c["a"],s["a"]],components:{Navbar:function(){return n.e("chunk-f104c5a4").then(n.bind(null,"d178"))},Loading:function(){return n.e("chunk-a4c90c0a").then(n.bind(null,"3a5e"))},YunRcmdMv:function(){return n.e("chunk-1974c6ef").then(n.bind(null,"751e"))}},data:function(){return{recommendVideo:[],flagList:["关注","推荐"],flagScrollT:{0:0,1:0},flagActive:1,pageNum:0,loading:!0}},created:function(){this.area=["内地","港台","欧美","日本","韩国"].sort((function(){return Math.random()>.5?1:-1}))[0],this.getData()},activated:function(){window.addEventListener("scroll",this.handlerScroll)},deactivated:function(){window.removeEventListener("scroll",this.handlerScroll)},methods:{getData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,o,i,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.$store.commit("changeLoading",t.loading),t.loginStatus){e.next=11;break}return o=20,e.next=6,Object(u["i"])({area:t.area,offset:t.pageNum*o,limit:o});case 6:i=e.sent,(n=t.recommendVideo).push.apply(n,Object(a["a"])(i.data.map((function(t){return{id:t.id,duration:t.duration,name:t.name,playCount:t.playCount,img:t.cover,tag:t.artistName}})))),t.pageNum++,e.next=16;break;case 11:return e.next=13,Object(u["I"])(t.pageNum);case 13:c=e.sent,(r=t.recommendVideo).push.apply(r,Object(a["a"])(c.datas.map((function(t){return{id:t.data.vid,duration:t.data.durationms,name:t.data.title,img:t.data.coverUrl,url:t.data.urlInfo.url,tag:t.data.videoGroup&&t.data.videoGroup[0].name,playCount:t.data.playTime,praisedCount:t.data.praisedCount}})))),t.pageNum++;case 16:t.loading=!1,e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](0),console.log(e.t0);case 22:return e.prev=22,t.$store.commit("changeLoading",!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[0,19,22,25]])})))()},clickFlag:function(t){var e=this;this.flagScrollT[this.flagActive]=this.getScrollTop(),this.flagActive=t,this.$nextTick((function(){window.scrollTo(0,e.flagScrollT[e.flagActive])}))},handlerScroll:function(){var t=document.body.scrollHeight||document.documentElement.scrollHeight,e=this.getScrollTop(),n=this.getClientHeight();e+n>t-300&&!this.loading&&1===this.flagActive&&(this.loading=!0,this.getData())}},watch:{loginStatus:function(t){this.recommendVideo=[],this.getData()}}},d=l,f=(n("3634"),n("b8bf"),n("2877")),g=Object(f["a"])(d,o,i,!1,null,"5c472326",null);e["default"]=g.exports},"5a84":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n("1da1"),i=(n("96cf"),n("caad"),n("2532"),n("a9e3"),n("4ec3"),{data:function(){return{}},computed:{loginStatus:function(){return this.$store.getters.loginStatus},playerPlayList:function(){return this.$store.getters.playList},adoEl:function(){return this.$store.getters.adoEl},songId:function(){return this.$store.getters.songId}},methods:{goLogin:function(){!this.loginStatus&&this.$router.push({name:"Login"})},logout:function(){this.$store.dispatch("userLogout")},toggleMenu:function(){this.$store.commit("toggleMenu")},goBack:function(){var t=this.$store.getters.historyList;t.length>1?this.$router.go(-1):this.$router.push({name:"Find"})},clickMenu:function(){console.log("点击了菜单")},goSearch:function(){this.$router.push({name:"Search"})},toTop:function(){window.scroll({top:0,behavior:"smooth"})},goPlaylist:function(t){console.log("点击歌单:",t),this.$router.push({name:"PlayListDetail",params:{id:t}})},clickSong:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.$store.commit("changeSongId",String(t)),o=e.$store.getters.historyList,o.length<=1&&!window.location.href.includes("?player=show")&&(window.location.href+="?player=show"),e.$store.commit("changeShowPlayer",!0);case 4:case"end":return n.stop()}}),n)})))()},clickMvIcon:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mv";this.$store.commit("changeMvId",Number(t)),this.$router.push({name:"MvPlayer",params:{id:t},query:{type:e}})},toast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;this.$toast({message:t,className:"playerToast",duration:e,position:"bottom"})},copyText:function(t){var e=document.createElement("input");e.value=t,e.style.position="absolute",e.style.left="-10000px",e.style.top="-10000px",document.body.appendChild(e),e.select(),document.execCommand("copy"),this.toast("复制成功! 快和小伙伴们分享吧!"),document.body.removeChild(e)},getScrollTop:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},getClientHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0},getScrollHeight:function(){return document.body.scrollHeight||document.documentElement.scrollHeight}}})},8542:function(t,e,n){},"9bdd":function(t,e,n){var o=n("825a"),i=n("2a62");t.exports=function(t,e,n,a){try{return a?e(o(n)[0],n[1]):e(n)}catch(r){i(t,"throw",r)}}},a630:function(t,e,n){var o=n("23e7"),i=n("4df4"),a=n("1c7e"),r=!a((function(t){Array.from(t)}));o({target:"Array",stat:!0,forced:r},{from:i})},aac6:function(t,e,n){},b8bf:function(t,e,n){"use strict";n("aac6")},e6da:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o={data:function(){return{scrollH:0}},methods:{getScrollTop:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},getClientHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0}},beforeRouteEnter:function(t,e,n){n((function(t){t.$nextTick((function(){window.scrollTo(0,t.scrollH)}))}))},beforeRouteLeave:function(t,e,n){this.scrollH=this.getScrollTop(),n()}}}}]);
//# sourceMappingURL=chunk-663c3fdc.5b0aa4d0.js.map