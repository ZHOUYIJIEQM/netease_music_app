{"version":3,"sources":["webpack:///./src/assets/mine/未登录.png","webpack:///./src/views/MvPlayer/MvPlayer.scss?9d74","webpack:///./src/views/MvPlayer/MvPlayer.vue?e23a","webpack:///./src/views/MvPlayer/MvPlayer.js","webpack:///./src/views/MvPlayer/MvPlayer.js?d66a","webpack:///./src/views/MvPlayer/MvPlayer.vue","webpack:///./src/mixin/global.js","webpack:///./src/views/MvPlayer/MvPlayer.vue?187b"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","goBack","ref","togglePlay","vdoPlay","vdoPause","vdoLoadedData","vdoTimeUpdate","vdoError","attrs","playState","_e","vdoInfo","creator","avatarUrl","defaultImg","identityIconUrl","_v","_s","nickname","_m","toggleShowDes","title","description","showDes","domProps","_f","praisedCount","commentCount","shareCount","subscribeCount","barHeight","buttonSize","activeColor","inActiveColor","progressChange","progressChangeEnd","model","value","callback","$$v","progressTime","expression","staticRenderFns","mixins","global","name","data","require","mounted","$store","commit","initSet","methods","vdoEl","$refs","paused","play","pause","setButton","console","log","type","progTimer","clearTimeout","setTimeout","bigButton","isDrag","currentTime","duration","ratio","videoWidth","videoHeight","style","objectFit","parentElement","alignItems","videoGetData","newV","getVdoDetail","vdoDetailData","code","id","userId","avatarDetail","replace","durationms","toast","getVdoUrl","vdoData","url","urls","$nextTick","setAttribute","mvGetData","getMvDetail","mvDetailData","artists","img1v1Url","cover","desc","subCount","getMvUrl","mvData","mlogGetData","getMLogtoVideoId","watch","handler","$route","query","error","immediate","component","computed","loginStatus","getters","playerPlayList","playList","adoEl","songId","goLogin","$router","push","logout","dispatch","toggleMenu","history","historyList","length","go","clickMenu","goSearch","toTop","window","scroll","top","behavior","goPlaylist","params","clickSong","String","location","href","includes","clickMvIcon","Number","msg","durationT","$toast","message","className","position","copyText","input","document","createElement","left","body","appendChild","select","execCommand","removeChild","getScrollTop","pageYOffset","documentElement","scrollTop","getClientHeight","innerHeight","clientHeight","getScrollHeight","scrollHeight"],"mappings":"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","file":"js/chunk-4958d5f0.28834eee.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/未登录.a0f6edd6.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./MvPlayer.scss?vue&type=style&index=0&id=7a7c4a38&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mv-player-page\"},[_c('div',{staticClass:\"nav\"},[_c('i',{staticClass:\"iconfont icon-fanhui\",on:{\"click\":_vm.goBack}}),_c('i',{staticClass:\"iconfont icon-gengduoxiao\"})]),_c('div',{staticClass:\"vdo-content\"},[_c('div',{staticClass:\"vdo-box\"},[_c('video',{ref:\"vdoEl\",staticClass:\"video-ele\",on:{\"click\":_vm.togglePlay,\"play\":_vm.vdoPlay,\"pause\":_vm.vdoPause,\"loadeddata\":_vm.vdoLoadedData,\"timeupdate\":_vm.vdoTimeUpdate,\"error\":_vm.vdoError}})]),_c('transition',{attrs:{\"name\":\"fadeIn\"}},[(_vm.playState === 'paused')?_c('i',{staticClass:\"iconfont icon-bofang2\",on:{\"click\":_vm.togglePlay}}):_vm._e()]),(_vm.vdoInfo.id)?_c('div',{staticClass:\"author-box\"},[_c('div',{staticClass:\"artist\"},[_c('div',{staticClass:\"avatar-box\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.vdoInfo.creator.avatarUrl || _vm.defaultImg,\"alt\":\"\"}}),(_vm.vdoInfo.creator.identityIconUrl)?_c('img',{staticClass:\"identityIcon\",attrs:{\"src\":_vm.vdoInfo.creator.identityIconUrl}}):_vm._e()]),_c('div',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(_vm.vdoInfo.creator.nickname)+\" \")]),_vm._m(0)]),_c('div',{staticClass:\"des-box\"},[_c('div',{staticClass:\"title\",on:{\"click\":_vm.toggleShowDes}},[_c('span',[_vm._v(_vm._s(_vm.vdoInfo.title))]),(_vm.vdoInfo.description && !_vm.showDes)?_c('i',{staticClass:\"iconfont icon-triangle-down\"}):_vm._e(),(_vm.vdoInfo.description && _vm.showDes)?_c('i',{staticClass:\"iconfont icon-triangle-up\"}):_vm._e()]),(_vm.vdoInfo.description && _vm.showDes)?_c('div',{staticClass:\"des\",domProps:{\"innerHTML\":_vm._s(_vm.vdoInfo.description)}}):_vm._e()])]):_vm._e(),(_vm.vdoInfo.id)?_c('div',{staticClass:\"right-bar\"},[_c('div',{staticClass:\"icon-box\"},[_c('i',{staticClass:\"iconfont icon-z-likeFill\"}),_c('p',[_vm._v(_vm._s(_vm._f(\"formatNum\")(_vm.vdoInfo.praisedCount)))])]),_c('div',{staticClass:\"icon-box\"},[_c('i',{staticClass:\"iconfont icon-pinglunpt-wangyiicon\"}),_c('p',[_vm._v(_vm._s(_vm._f(\"formatNum\")(_vm.vdoInfo.commentCount)))])]),_c('div',{staticClass:\"icon-box\"},[_c('i',{staticClass:\"iconfont icon-fenxiangpt\"}),_c('p',[_vm._v(_vm._s(_vm._f(\"formatNum\")(_vm.vdoInfo.shareCount)))])]),_c('div',{staticClass:\"icon-box\"},[_c('i',{staticClass:\"iconfont icon-jia1\"}),_c('p',[_vm._v(_vm._s(_vm._f(\"formatNum\")(_vm.vdoInfo.subscribeCount)))])])]):_vm._e(),_c('div',{staticClass:\"progress-box\"},[_c('van-slider',{attrs:{\"bar-height\":_vm.barHeight,\"button-size\":_vm.buttonSize,\"active-color\":_vm.activeColor,\"inactive-color\":_vm.inActiveColor},on:{\"input\":_vm.progressChange,\"change\":_vm.progressChangeEnd},model:{value:(_vm.progressTime),callback:function ($$v) {_vm.progressTime=$$v},expression:\"progressTime\"}})],1)],1),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"follow\"},[_c('i',{staticClass:\"iconfont icon-jiahao\"}),_vm._v(\"关注\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bottom\"},[_c('i',{staticClass:\"iconfont icon-yinle\"}),_c('span',{attrs:{\"lang\":\"\"}},[_vm._v(\"暂无相关音乐!\")])])}]\n\nexport { render, staticRenderFns }","import {getMvDetail, getVdoDetail, getMvUrl, getVdoUrl, getMLogtoVideoId} from '@/api/api'\r\nimport { global } from \"@/mixin/global.js\";\r\n\r\nexport default {\r\n  mixins: [global],\r\n  name: 'MvPlayer',\r\n  data() {\r\n    return {\r\n      defaultImg: require('@/assets/mine/未登录.png'),\r\n      vdoInfo: {},\r\n      // showDes: false,\r\n      showDes: false,\r\n      playState: 'paused',\r\n      progressTime: 0,\r\n      activeColor: 'rgba(255, 255, 255, .35)',\r\n      inActiveColor: 'rgba(255, 255, 255, .15)',\r\n      barHeight: '.03rem',\r\n      buttonSize: '.09rem',\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$store.commit(\"changeLoading\", true);\r\n    this.initSet()\r\n  },\r\n  methods: {\r\n    initSet() {\r\n      this.vdoEl = this.$refs.vdoEl\r\n    },\r\n    togglePlay() {\r\n      if (this.vdoEl.paused) {\r\n        this.vdoEl.play()\r\n      } else {\r\n        this.vdoEl.pause()\r\n      }\r\n\r\n    },\r\n    vdoPlay() {\r\n      this.playState = 'playing'\r\n      this.setButton('small')\r\n    },\r\n    vdoPause() {\r\n      this.playState = 'paused'\r\n      this.setButton('big')\r\n    },\r\n    vdoError() {\r\n      console.log('error');\r\n    },\r\n    setButton(type) {\r\n      this.progTimer && clearTimeout(this.progTimer)\r\n      if(type == 'big') {\r\n        this.progTimer = setTimeout(() => {\r\n          this.barHeight = '.03rem'\r\n          this.buttonSize = '.09rem'\r\n        }, 200)\r\n      } else {\r\n        this.progTimer = setTimeout(() => {\r\n          this.barHeight = '.015rem'\r\n          this.buttonSize = '.04rem'\r\n        }, 1000)\r\n      }\r\n    },\r\n    bigButton() {\r\n      this.barHeight = '.03rem'\r\n      this.buttonSize = '.09rem'\r\n      this.progTimer && clearTimeout(this.progTimer)\r\n      this.progTimer = setTimeout(() => {\r\n        this.barHeight = '.015rem'\r\n        this.buttonSize = '.04rem'\r\n      }, 1000)\r\n    },\r\n    vdoTimeUpdate() {\r\n      if (!this.isDrag) {\r\n        this.progressTime = this.vdoEl.currentTime / this.vdoEl.duration * 100\r\n      }\r\n    },\r\n    vdoLoadedData() {\r\n      // console.log(this.vdoEl.videoWidth, this.vdoEl.videoHeight);\r\n      let ratio = this.vdoEl.videoWidth / this.vdoEl.videoHeight\r\n      // 根据比例判断横屏, 竖屏\r\n      if (ratio >= 1) {\r\n        this.vdoEl.style.objectFit = 'contain'\r\n        this.vdoEl.parentElement.style.alignItems = 'center'\r\n      } else {\r\n        this.vdoEl.style.objectFit = 'cover'\r\n        this.vdoEl.parentElement.style.alignItems = 'flex-start'\r\n      }\r\n    },\r\n    progressChange() {\r\n      this.isDrag = true\r\n      this.bigButton()\r\n    },\r\n    progressChangeEnd() {\r\n      this.vdoEl.currentTime = this.progressTime / 100 * this.vdoEl.duration\r\n      if (this.vdoEl.paused) {\r\n        this.vdoEl.play()\r\n      }\r\n      this.isDrag = false\r\n    },\r\n    // 展开/隐藏描述\r\n    toggleShowDes() {\r\n      this.showDes = !this.showDes\r\n    },\r\n    // 获取 type 为 video 的数据\r\n    async videoGetData(newV) {\r\n      // 详细介绍\r\n      let vdoDetailData = await getVdoDetail(newV)\r\n      // console.log(`vdo详情`, vdoDetailData);\r\n\r\n      if (vdoDetailData.code === 200) {\r\n        // this.toast('已获取视频详情')\r\n        this.vdoInfo = {\r\n          id: newV,\r\n          creator: {\r\n            id: vdoDetailData.data.creator.userId,\r\n            nickname: vdoDetailData.data.creator.nickname,\r\n            avatarUrl: vdoDetailData.data.creator.avatarUrl,\r\n            identityIconUrl: vdoDetailData.data.creator.avatarDetail && vdoDetailData.data.creator.avatarDetail.identityIconUrl\r\n          },\r\n          title: vdoDetailData.data.title,\r\n          description: vdoDetailData.data.description && vdoDetailData.data.description.replace(/\\n/g, '<br>'),\r\n          duration: vdoDetailData.data.durationms / 1000,\r\n          commentCount: vdoDetailData.data.commentCount,\r\n          praisedCount: vdoDetailData.data.praisedCount,\r\n          shareCount: vdoDetailData.data.shareCount,\r\n          subscribeCount: vdoDetailData.data.subscribeCount,\r\n        }\r\n      } else {\r\n        this.toast('获取视频详情错误')\r\n      }\r\n\r\n      // 播放地址\r\n      let vdoData = await getVdoUrl(newV)\r\n      // console.log(`vdo地址`, vdoData);\r\n      if (vdoData.code === 200) {\r\n        this.vdoInfo.url = vdoData.urls[0].url\r\n      } else {\r\n        this.toast(`获取播放地址错误`)\r\n      }\r\n      // console.log(JSON.stringify(this.vdoInfo, null, '  '));\r\n      this.$nextTick(() => {\r\n        this.$refs.vdoEl.setAttribute('src', this.vdoInfo.url)\r\n        this.$refs.vdoEl.play()\r\n      })\r\n\r\n      this.$store.commit(\"changeLoading\", false);\r\n    },\r\n    async mvGetData(newV) {\r\n      // 详细介绍\r\n      let mvDetailData = await getMvDetail(newV)\r\n      if (mvDetailData.code === 200) {\r\n        // this.toast('已获取视频详情')\r\n        this.vdoInfo = {\r\n          id: newV,\r\n          creator: {\r\n            id: mvDetailData.data.artists[0].id,\r\n            nickname: mvDetailData.data.artists[0].name,\r\n            avatarUrl: mvDetailData.data.artists[0].img1v1Url || mvDetailData.data.cover,\r\n          },\r\n          title: mvDetailData.data.name,\r\n          description: mvDetailData.data.desc && mvDetailData.data.desc.replace(/\\n/g, '<br>'),\r\n          duration: mvDetailData.data.duration / 1000,\r\n          commentCount: mvDetailData.data.commentCount,\r\n          praisedCount: mvDetailData.data.subCount,\r\n          shareCount: mvDetailData.data.shareCount,\r\n          subscribeCount: mvDetailData.data.subCount\r\n        }\r\n      } else {\r\n        this.toast('获取视频详情错误')\r\n      }\r\n\r\n      // 播放地址\r\n      let mvData = await getMvUrl(newV, 1080)\r\n      // console.log(`mv地址`, mvData);\r\n      if (mvData.code === 200) {\r\n        this.vdoInfo.url = mvData.data.url\r\n      } else {\r\n        this.toast(`获取播放地址错误`)\r\n      }\r\n      // console.log(JSON.stringify(this.vdoInfo, null, '  '));\r\n      this.$nextTick(() => {\r\n        this.$refs.vdoEl.setAttribute('src', this.vdoInfo.url)\r\n        this.$refs.vdoEl.play()\r\n      })\r\n\r\n      this.$store.commit(\"changeLoading\", false);\r\n    },\r\n    async mlogGetData(newV) {\r\n      let data = await getMLogtoVideoId(newV)\r\n      console.log(data);\r\n      if (data.code === 200) {\r\n        this.videoGetData(data.data)\r\n      } else {\r\n        this.toast('获取mlog错误! 该链接无法播放!', 3000)\r\n        this.$store.commit(\"changeLoading\", false);\r\n        throw '获取mlog错误! 该链接可能无法播放!'\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    '$route.params.id': {\r\n      handler: function (newV) {\r\n        try {\r\n          this.$store.commit(\"changeLoading\", true);\r\n          // 不同类型发起不同请求 type mv video, 再提取需要的数据\r\n          let type = this.$route.query.type\r\n          // this.vdoInfo = {}\r\n          // console.log(`id 触发 ${newV} 类型 ${type}  正在发起请求`);\r\n          if (type === 'mv') {\r\n            this.mvGetData(newV)\r\n          } else if (type === 'video') {\r\n            this.videoGetData(newV)\r\n          } else if (type === 'mlog') {\r\n            this.mlogGetData(newV)\r\n          }\r\n        } catch (error) {\r\n          console.log('获取必要信息错误!');\r\n          this.toast('获取必要信息错误', 2000)\r\n        } finally {\r\n          this.$store.commit(\"changeLoading\", false);\r\n        }\r\n      },\r\n      immediate: true\r\n    }\r\n  }\r\n}","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./MvPlayer.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./MvPlayer.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MvPlayer.vue?vue&type=template&id=7a7c4a38&scoped=true&\"\nimport script from \"./MvPlayer.js?vue&type=script&lang=js&\"\nexport * from \"./MvPlayer.js?vue&type=script&lang=js&\"\nimport style0 from \"./MvPlayer.scss?vue&type=style&index=0&id=7a7c4a38&lang=scss&scoped=true&\"\nimport style1 from \"./MvPlayer.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a7c4a38\",\n  null\n  \n)\n\nexport default component.exports","// 一些在组件共用的属性, 函数\r\n\r\nimport { songDetail, songUrl } from '@/api/api'\r\nexport let global = {\r\n  data() {\r\n    return {};\r\n  },\r\n  computed: {\r\n    // 获取登录状态\r\n    loginStatus() {\r\n      return this.$store.getters.loginStatus;\r\n    },\r\n    playerPlayList() {\r\n      return this.$store.getters.playList\r\n    },\r\n    adoEl() {\r\n      return this.$store.getters.adoEl\r\n    },\r\n    songId() {\r\n      return this.$store.getters.songId\r\n    }\r\n  },\r\n  methods: {\r\n    // 去登录\r\n    goLogin() {\r\n      !this.loginStatus && this.$router.push({ name: \"Login\" });\r\n    },\r\n    // 退出登录\r\n    logout() {\r\n      this.$store.dispatch(\"userLogout\");\r\n    },\r\n    // 菜单显示/隐藏\r\n    toggleMenu() {\r\n      this.$store.commit(\"toggleMenu\");\r\n    },\r\n    // http://localhost:8080\r\n    // 路由返回, 如果第一次进入的页面有导航返回键, go(-1), 是无效的, 把访问过的路由记录到 vuex, 只有一个路由还点了返回键, 就直接跳到首页\r\n    goBack() {\r\n      let history = this.$store.getters.historyList\r\n      if (history.length > 1) {\r\n        this.$router.go(-1);\r\n      } else {\r\n        this.$router.push({name: 'Find'})\r\n      }\r\n    },\r\n    // 点击菜单字体图标\r\n    clickMenu() {\r\n      console.log(\"点击了菜单\");\r\n    },\r\n    // 去搜索\r\n    goSearch() {\r\n      // console.log(\"前往搜索页\");\r\n      this.$router.push({name: 'Search'})\r\n    },\r\n    // 返回顶部\r\n    toTop() {\r\n      window.scroll({ top: 0, behavior: 'smooth'})\r\n    },\r\n    // 前往 歌单\r\n    goPlaylist(id) {\r\n      console.log(\"点击歌单:\", id);\r\n      this.$router.push({ name: \"PlayListDetail\", params: { id } });\r\n    },\r\n    async clickSong(id) {\r\n      // console.log('点击歌曲', id);\r\n      // http://localhost:8080/#/Home/Find\r\n      this.$store.commit('changeSongId', String(id))\r\n      let history = this.$store.getters.historyList\r\n      if (history.length <= 1 && !window.location.href.includes('?player=show')) {\r\n        window.location.href+='?player=show'\r\n      }\r\n      this.$store.commit('changeShowPlayer', true)\r\n    },\r\n    clickMvIcon(id, type=\"mv\") {\r\n      this.$store.commit('changeMvId', Number(id))\r\n      this.$router.push({name: 'MvPlayer', params: {id}, query: {type}})\r\n    },\r\n    // toast 提示\r\n    toast(msg, durationT = 1500) {\r\n      this.$toast({\r\n        message: msg,\r\n        className: \"playerToast\", duration: durationT, position: \"bottom\",\r\n      });\r\n    },\r\n    // 复制文本 value \r\n    copyText(value) {\r\n      // 创建的input需要加到 body, 不然复制不到值\r\n      let input = document.createElement('input')\r\n      input.value = value\r\n      input.style.position = 'absolute'\r\n      input.style.left = '-10000px'\r\n      input.style.top = '-10000px'\r\n      document.body.appendChild(input)\r\n      input.select()\r\n      document.execCommand('copy')\r\n      this.toast('复制成功! 快和小伙伴们分享吧!')\r\n      document.body.removeChild(input)\r\n    },\r\n    // 已滚动高度\r\n    getScrollTop() {\r\n      return (\r\n        window.pageYOffset ||\r\n        document.documentElement.scrollTop ||\r\n        document.body.scrollTop ||\r\n        0\r\n      );\r\n    },\r\n    // 窗口可视高度\r\n    getClientHeight() {\r\n      return (\r\n        window.innerHeight ||\r\n        document.documentElement.clientHeight ||\r\n        document.body.clientHeight ||\r\n        0\r\n      );\r\n    },\r\n    // 获取已滚动高度\r\n    getScrollHeight() {\r\n      return document.body.scrollHeight || document.documentElement.scrollHeight\r\n    }\r\n  },\r\n};\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MvPlayer.vue?vue&type=style&index=1&lang=scss&\""],"sourceRoot":""}